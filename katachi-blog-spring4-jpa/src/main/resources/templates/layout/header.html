<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorate="~{layout/layout}">
<body>
	<nav layout:fragment="header" class="navbar navbar-expand-lg fw-bold">
		<div class="container-fluid">
			<a class="navbar-brand" href="/">
				<img th:src="@{/images/logo.png}"
					alt="大阪就労移行支援 未来のかたち｜プログラミング・IT特化"
					width="120"
				>
			</a>
			<div sec:authorize="isAuthenticated()">
				<ul class="navbar-nav">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle"
							href="#"
							role="button"
							data-bs-toggle="dropdown"
							aria-expanded="false"
						>
							<span
								th:with="loginName=${#authentication.principal.username}" 
								th:text="#{welcome(${loginName})}"
							>
								ログイン名
							</span>
						</a>
						<ul class="dropdown-menu dropdown-menu-end">
							<li>
								<form method="post" th:action="@{/logout}">
									<button class="dropdown-item btn" type="submit" th:text="#{logout}">
										ログアウト
									</button>
								</form>
							</li>
						</ul>
					</li>
				</ul>
			</div>
			<div sec:authorize="!isAuthenticated()">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a th:href="@{/login}"
							class="nav-link"
							th:text="#{login}"
						>
							ログイン
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
</body>
</html>
